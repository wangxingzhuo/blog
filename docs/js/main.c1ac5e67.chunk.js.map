{"version":3,"sources":["api/index.ts","main.tsx","i18n.ts","app.tsx","components/loading/index.tsx","store.ts","reducers/index.ts","components/routers/index.ts","components/routers/routers.tsx","assets/images/logo.svg","pages/errors/index.tsx","pages/home/index.ts","api/request.ts","helper/url.ts","pages/home/home.tsx","components/article-card/index.tsx","helper/time.ts","pages/article/index.ts","pages/article/article.tsx","serviceWorker.js"],"names":["offset","limit","url","method","Method","GET","data","then","respData","articleId","window","t","name","lang","get","dict","render","document","getElementById","serviceWorker","unregister","history","createBrowserHistory","store","Provider","ConnectedRouter","Suspense","fallback","Component","App","wrapStyle","display","position","top","left","zIndex","width","height","textAlign","verticalAlign","style","transform","Spin","size","tip","initState","createStore","compose","applyMiddleware","routerMiddleware","articleList","state","action","type","payload","list","curArticle","combineReducers","router","connectRouter","ErrorView","lazy","Home","Article","BrowserRouter","className","Link","to","Switch","Route","key","path","component","exact","strict","title","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_ref","createElement","_ref2","d","props","viewBox","console","log","location","shouldComponentUpdate","nextProps","nextState","_receiveProps","connect","value","dispatch","loadArticleList","warn","ContentType","DOMAIN","fetch","options","POST","timeout","headers","URI","encode","genGETParams","PUT","contentType","JSON","stringify","URLENCODE","genBodyParams","Promise","resolve","reject","timeHandle","setTimeout","Error","rep","cache","credentials","body","resp","clearTimeout","ok","statusText","String","status","split","json","startsWith","text","blob","catch","urlObj","URL","err","hash","host","hostname","href","origin","password","pathname","port","protocol","search","username","searchParams","query","forEach","rawVal","val","decodeURIComponent","turnBoolean","undefined","Array","isArray","push","substr","that","keys","reduce","pre","encodeURIComponent","concat","map","item","join","article","idx","summary","updateTime","dateFormat","numberPad","fix","toFixed","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","loadArticle","md","error","markdown","dangerouslySetInnerHTML","__html","isLocalhost","Boolean","match","register","config","navigator","addEventListener","swUrl","response","indexOf","ready","registration","reload","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess"],"mappings":"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","file":"js/main.c1ac5e67.chunk.js","sourcesContent":["import request, { Method } from './request'\nimport { Article } from '@/entities'\n\nexport function loadArticleList(offset: number = 0, limit: number = 50): Promise<Article[]> {\n  return request({\n    url: '/api/articles.json',\n    method: Method.GET,\n    data: { offset, limit }\n  })\n  .then(respData => respData.data)\n}\n\nexport function loadArticle(articleId: string) {\n  return request({ url: `/api/article/${articleId}.md`, method: Method.GET })\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport i18n from './i18n'\nimport App from './app'\nimport _ from 'lodash'\nimport * as serviceWorker from './serviceWorker'\n\n(window as any).t = function(name: string): string {\n  const lang = _.get(window, 'navigator.language', 'en-US') as string\n  const dict = (i18n as any)[lang] || i18n['en-US']\n  return _.get(dict, name, name)\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","const foo = {\n  'en-US': {},\n  'zh-CN': {},\n}\n\nexport default foo","import React, { Suspense, Component } from 'react'\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\nimport 'antd/dist/antd.css'\nimport './assets/style/common.styl'\nimport './assets/style/app.styl'\nimport Loading from './components/loading'\nimport createStore from './store'\nimport Routers from './components/routers'\n\nconst history = createBrowserHistory()\nconst store = createStore(history)\n\nclass App extends Component<any, any> {\n  render() {\n    return (\n      <Provider store={store}>\n        {/* <Message /> */}\n        <ConnectedRouter history={history}>\n          <Suspense fallback={<Loading />}>\n            <Routers />\n          </Suspense>\n        </ConnectedRouter>\n      </Provider>\n    )\n  }\n}\n\nexport default App\n","import React, { CSSProperties } from 'react'\nimport {Spin} from 'antd'\n\nconst wrapStyle:CSSProperties = {\n  display: 'table',\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  zIndex: 9999,\n  width: '100%',\n  height: '100%',\n  textAlign: 'center',\n  verticalAlign: 'middle'\n}\n\nconst style:CSSProperties = {\n  display: 'table-cell',\n  transform: 'translateY(-12%)'\n}\n\nexport default function Loading() {\n  return (\n    <div style={wrapStyle}>\n      <Spin size=\"large\" tip=\"Loading...\" style={style} />\n    </div>\n  )\n}\n","import thunk from 'redux-thunk'\nimport {compose, applyMiddleware, createStore} from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport createRootReducer from './reducers'\nimport {History} from 'history'\n\n// reducer: createStore(Reducer, preloadedState: State, enhancer: function)\nexport default (history: History, initState = {}) => createStore(\n  createRootReducer(history),\n  initState,\n  compose(\n    applyMiddleware(\n      routerMiddleware(history),\n      thunk\n    )\n  )\n)\n","import { combineReducers } from 'redux'\nimport { History } from 'history'\nimport { connectRouter } from 'connected-react-router'\nimport { Action } from '@/entities'\n\nfunction articleList(state: any, action: Action) {\n  if ('ARTICLE_LIST' !== action.type) {\n    return state || []\n  }\n  return action.payload.list\n}\n\nfunction curArticle(state: any, action: Action) {\n  if ('CUR_ARTICLE' !== action.type) {\n    return state || null\n  }\n  return action.payload\n}\n\nexport default function(history: History) {\n  return combineReducers({\n    router: connectRouter(history),\n    articleList,\n    curArticle,\n  })\n}\n","import Routers from './routers'\n\nexport default Routers\n","import React, { Component } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\nimport Logo from '@/assets/images/logo.svg'\n\nconst ErrorView = React.lazy(() => import('@/pages/errors'))\nconst Home = React.lazy(() => import('@/pages/home'))\nconst Article = React.lazy(() => import('@/pages/article'))\n\nexport default class Routers extends Component<any, any> {\n  render() {\n    return (\n      <BrowserRouter>\n        <>\n          <header className=\"public-header\">\n            <Link className=\"logo\" to=\"/\">\n              <Logo />\n            </Link>\n          </header>\n          <Switch>\n            <Route key=\"article\" path=\"/article/:articleId\" component={Article} />\n            <Route key=\"index\" path=\"/\" exact strict component={Home} />\n            <Route key=\"not_found\" title=\"Page Not Found\" component={ErrorView} />\n          </Switch>\n        </>\n      </BrowserRouter>\n    )\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"style\", null, \".logo_svg__st0{fill:#fff}\");\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"logo_svg__st0\",\n  d: \"M.4 3.6h3.7c2.2 0 3.6.1 4.3.3.7.1 1.3.4 1.9.8s1 1 1.3 1.6c.3.6.5 1.4.5 2.2 0 1.3-.3 2.3-1 3.1-.7.8-1.6 1.3-2.6 1.5-1 .2-2.7.3-4.8.3H2.3v8.7H.4V3.6zm1.9 1.8v6.4h3.1c1.9 0 3.1-.3 3.8-.9.6-.6.9-1.4.9-2.3 0-2.1-1.5-3.1-4.5-3.1H2.3zM14.9 15.4c0-2 .7-3.8 2.1-5.2C18.4 8.8 20.1 8 22.1 8s3.7.7 5.1 2.2c1.4 1.4 2.1 3.2 2.1 5.2s-.7 3.7-2.1 5.2c-1.4 1.4-3.1 2.1-5.1 2.1-2 0-3.7-.7-5.1-2.1-1.4-1.5-2.1-3.2-2.1-5.2zm12.6 0c0-1.5-.5-2.8-1.6-4-1.1-1.1-2.3-1.7-3.8-1.7s-2.7.6-3.8 1.7c-1.1 1.1-1.6 2.4-1.6 4s.5 2.9 1.5 3.9c1 1.1 2.3 1.6 3.8 1.6s2.8-.5 3.8-1.6c1.1-1 1.7-2.3 1.7-3.9zM31.7 4.6c0-.4.1-.7.4-1 .3-.3.6-.4 1-.4s.8.1 1 .4.4.6.4 1-.1.8-.4 1-.5.4-.9.4-.8-.1-1-.4c-.3-.3-.5-.6-.5-1zm.6 3.8h1.8v13.8h-1.8V8.4zM37.8 8.4h1.8v2.5C41 9 42.7 8.1 44.7 8.1c1 0 2 .3 2.8.8s1.4 1.3 1.8 2.2.5 2.2.5 4v7.1H48v-6.6c0-1.6-.1-2.7-.2-3.3-.1-.6-.4-1.1-.7-1.5-.3-.4-.7-.7-1.2-.9s-1-.3-1.7-.3-1.3.2-2 .5-1.2.8-1.6 1.4c-.5.6-.8 1.2-.9 1.8s-.2 1.9-.2 3.8v5.1h-1.8V8.4zM57 20c0 .5.1.7.2.8.1.1.4.1.9.1h1.1v1.5c-.7.1-1.3.2-1.7.2-.8 0-1.4-.2-1.7-.6-.4-.4-.5-1-.5-1.8V9.9h-2.4V8.4h2.4V3.1H57v5.3h2.8v1.5H57V20z\"\n});\n\nvar SvgLogo = function SvgLogo(props) {\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 60 26\"\n  }, props), _ref, _ref2);\n};\n\nexport default SvgLogo;","import React, {Component} from 'react'\n\nexport default class NotFound extends Component<any, any> {\n  constructor(props: any) {\n    super(props)\n    console.log(props.location)\n  }\n\n  shouldComponentUpdate(nextProps: any, nextState: any): boolean {\n    return true\n  }\n\n  private _receiveProps() {}\n\n  render() {\n    return (\n    <div>404 - not found</div>\n    );\n  }\n}\n","import { connect } from 'react-redux'\nimport { loadArticleList } from '@/api'\nimport { FuncDispatch } from '@/entities'\nimport Home from '@/pages/home/home'\n\nfunction mapState(state: any) {\n  return {\n    value: state.articleList || [],\n  }\n}\n\nfunction mapDispatch(dispatch: FuncDispatch) {\n  return {\n    loadArticleList() {\n      loadArticleList().then(articleList => {\n        if (!articleList) {\n          console.warn(articleList)\n          return\n        }\n        dispatch({ type: 'ARTICLE_LIST', payload: articleList })\n      })\n    }\n  }\n}\n\nexport default connect(mapState, mapDispatch)(Home)\n","import { URI } from '@/helper/url'\nconst DOMAIN = 'https://wiki.watsonserve.com';\n/**\n * 一切request从这里开始\n */\nconst fetch = window.fetch\n\nexport enum Method {\n  GET = 'GET',\n  POST = 'POST',\n  PUT = 'PUT',\n  DELETE = 'DELETE',\n  OPTIONS = 'OPTIONS',\n  HEAD = 'HEAD'\n}\n\nenum ContentType {\n  URLENCODE = 'application/x-www-form-urlencoded',\n  FORMDATA = 'multipart/form-data',\n  JSON = 'application/json',\n  PROTOBUF = 'application/x-protobuf',\n}\n\nexport interface RequestOptions {\n  url: string\n  method?: Method\n  headers?: {\n    [name: string]: string\n  }\n  data?: any\n  timeout?: number\n}\n\nfunction genGETParams(url: string, data?: any): string {\n  return `${url}?${URI.encode(data)}`\n}\n\nfunction genBodyParams(headers: any, data?: any): string {\n  // 有数据则设置数据类型，没有则设置内容长度为0\n  if (!data) {\n    headers['Content-Length'] = '0'\n    return ''\n  }\n\n  const contentType = headers['Content-Type'] || ContentType.JSON\n  headers['Content-Type'] = `${contentType}; charset=utf-8`\n\n  switch (contentType) {\n    case ContentType.JSON:\n      return JSON.stringify(data)\n    case ContentType.URLENCODE:\n      return URI.encode(data)\n    default:\n      break\n  }\n\n  return data\n}\n\nexport default function(options: RequestOptions): Promise<any> {\n  options = {\n    method: Method.POST,\n    timeout: 3000,\n    headers: {},\n    ...options\n  } as RequestOptions\n  const { method, timeout } = options\n  let { url, headers, data } = options\n\n  switch (method) {\n    case Method.GET:\n      if (data) {\n        url = genGETParams(url, data)\n      }\n      break\n    case Method.PUT:\n    case Method.POST:\n      data = genBodyParams(headers, data)\n    default:\n      break\n  }\n\n  return new Promise((resolve, reject) => {\n    // 强制超时reject\n    const timeHandle = timeout ? setTimeout(() => reject(new Error('timeout')), timeout) : null\n    const rep: any = {\n      method,\n      headers,\n      cache: 'no-cache',\n      credentials: 'include'\n    }\n    if (Method.GET !== method && data) {\n      rep.body = data;\n    }\n    fetch(`${DOMAIN}${url}`, rep)\n    .then(resp => {\n      clearTimeout(timeHandle)\n      if (!resp.ok) {\n        return Promise.reject(new Error(resp.statusText || String(resp.status)))\n      }\n      const respHeaders = resp.headers\n      const contentType = respHeaders.get('Content-Type').split(';')[0]\n      switch (contentType) {\n        case 'application/json':\n          return resp.json()\n        default:\n          if (contentType.startsWith('text/')) {\n            return resp.text()\n          }\n          return resp.blob()\n      }\n    })\n    .then(resolve)\n    .catch(reject)\n  })\n}\n","\ntype Value = string | boolean | (string | boolean)[]\n\nfunction turnBoolean(val: string): boolean | string {\n  switch (val) {\n    case '':\n    case 'true':\n      return true\n    case 'false':\n      return false\n  }\n  return decodeURIComponent(val)\n}\n\nexport interface URLObj {\n  hash: string\n  host: string\n  hostname: string\n  href: string\n  origin: string\n  password: string\n  pathname: string\n  port: number\n  protocol: string\n  query: {[key: string]: Value}\n  search: string\n  username: string\n}\n\nexport function parseURL(url: string): URLObj {\n  let urlObj\n  try {\n    urlObj = new URL(url)\n  } catch(err) {\n    return\n  }\n  const {\n    hash,\n    host,\n    hostname,\n    href,\n    origin,\n    password,\n    pathname,\n    port,\n    protocol,\n    search,\n    username,\n    searchParams,\n  } = urlObj\n  const query: {[key: string]: Value } = {}\n\n  searchParams.forEach((rawVal: string, key: string) => {\n    let value: Value = query[key]\n    const val = turnBoolean(rawVal)\n    // value maybe boolean false\n    if (undefined !== value) {\n      if (!Array.isArray(value)) {\n        value = [value]\n      }\n      value.push(val)\n    } else {\n      value = val\n    }\n    query[key] = value\n  })\n\n  return {\n    hash: hash.substr(1),\n    host,\n    hostname,\n    href,\n    origin: 'null' === origin ? '' : origin,\n    password,\n    pathname,\n    port: +port,\n    protocol: protocol.substr(0, protocol.length - 1),\n    query,\n    search: search.substr(1),\n    username,\n  }\n}\n\nexport class URI {\n  static encode(that: any): string {\n    return Object.keys(that).reduce((pre: string[], key: string) => {\n      let val = that[key];\n      if (undefined === val || '' === val) {\n        return pre;\n      }\n\n      key = encodeURIComponent(key);\n\n      if (Array.isArray(val)) {\n        pre = pre.concat(val.map(item => `${key}=${encodeURIComponent(item)}`))\n      } else {\n        val = encodeURIComponent(val);\n        pre.push(`${key}=${val}`);\n      }\n\n      return pre;\n    }, []).join('&');\n  }\n}\n","import React from 'react'\nimport ArticleCard from '@/components/article-card'\nimport './home.styl'\nimport { Article } from '@/entities'\n\ninterface HomeProps {\n  value: Article[]\n  loadArticleList: () => void\n}\n\nexport default class Home extends React.Component<HomeProps> {\n  constructor(props: HomeProps) {\n    super(props)\n    const loadArticleList = this.props.loadArticleList\n    loadArticleList()\n  }\n\n  render() {\n    const articleList = this.props.value\n\n    return (\n      <main className=\"home\">\n        <div className=\"container-wrapper\">\n          <div className=\"cards\">\n            <ul className=\"list-unstyled list-inline attention\">\n            {articleList.map((article: any, idx: number) => (\n              <li className=\"animated\" key={idx}>\n                <ArticleCard value={article} />\n              </li>\n            ))}\n            </ul>\n          </div>\n        </div>\n        <footer className=\"public-footer\">© 2018 - 2019 watsonserve.com</footer>\n      </main>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Article } from '@/entities'\nimport { dateFormat } from '@/helper/time'\nimport './article-card.styl'\n\ninterface ArticleCardProps {\n  value: Article\n}\n\nexport default class ArticleCard extends React.Component<ArticleCardProps> {\n  render() {\n    const { articleId, title, summary, updateTime } = this.props.value\n\n    return (\n      <Link className=\"card attention-card\" to={`/article/${articleId}`}>\n        <div className=\"title\">\n          <i className=\"icon-font icon-report\"></i>\n          <h4>{ title }</h4>\n        </div>\n        <p className=\"update\">\n          更新时间: <time>{ dateFormat(updateTime * 1000) }</time>\n        </p>\n        <p className=\"summary\">{ summary }</p>\n      </Link>\n    )\n  }\n}\n","\nexport function numberPad(that: number, fix = 2): string {\n  return (that / 100).toFixed(fix).split('.')[1];\n}\n\nexport function dateFormat(that: number | Date): string {\n  if (!that) return '';\n  if (typeof that === 'number') {\n    that = new Date(that);\n  }\n  const year = that.getFullYear();\n  const month = that.getMonth() + 1;\n  const day = that.getDate();\n  const hours = that.getHours();\n  const minutes = that.getMinutes();\n  const seconds = that.getSeconds();\n\n  return `${year}-${numberPad(month)}-${numberPad(day)}`\n  + ` ${numberPad(hours)}:${numberPad(minutes)}:${numberPad(seconds)}`;\n}\n","import { connect } from 'react-redux'\nimport { FuncDispatch } from '@/entities'\nimport { loadArticle } from '@/api'\nimport Article from './article'\n\nfunction mapState(state: any) {\n  return {\n    value: state.curArticle,\n  }\n}\n\nfunction mapDispatch(dispatch: FuncDispatch) {\n  return {\n    loadArticle(articleId: string): void {\n      loadArticle(articleId)\n      .then(md => {\n        dispatch({ type: 'CUR_ARTICLE', payload: md })\n      })\n      .catch(err => {\n        console.error(err)\n        dispatch({ type: 'CUR_ARTICLE', payload: null })\n      })\n    }\n  }\n}\n\nexport default connect(mapState, mapDispatch)(Article)\n","import React from 'react'\nimport _get from 'lodash/get'\nimport MarkDownIt from 'markdown-it'\n// style\nimport './article.styl'\n\nconst markdown = new MarkDownIt()\n\ninterface ArticleProps {\n  value: string\n  loadArticle: (articleId: string) => void\n}\n\nexport default class Article extends React.Component<ArticleProps, any> {\n  constructor(props: ArticleProps) {\n    super(props)\n    const loadArticle = this.props.loadArticle\n    const articleId = _get(this.props, 'match.params.articleId')\n    articleId && loadArticle(articleId)\n  }\n\n  render() {\n    const md = this.props.value || ''\n\n    return (\n      <main className=\"article\">\n        <div className=\"container-wrapper\" dangerouslySetInnerHTML = {{ __html: markdown.render(md) }} />\n        <footer className=\"public-footer\">© 2018 - 2019 watsonserve.com</footer>\n      </main>\n    )\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n"],"sourceRoot":""}